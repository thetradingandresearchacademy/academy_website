<script>
  const params = new URLSearchParams(window.location.search);
  if (params.get("login") === "success") {
    localStorage.setItem("role", params.get("role"));
    localStorage.setItem("email", params.get("email"));
    window.history.replaceState({}, document.title, "dashboard.html");
  }

  if (!localStorage.getItem("role")) {
    window.location.href = "login.html";
  }
</script>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Member Dashboard</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* Dashboard-specific styles */
    .dash-container {
      padding: 20px;
      max-width: 1100px;
      margin: auto;
    }

    .welcome {
      margin-bottom: 20px;
    }

    .tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 25px;
      overflow-x: auto;
    }

    .tab {
      padding: 10px 14px;
      border-radius: 8px;
      background: #111827;
      border: 1px solid #1f2933;
      white-space: nowrap;
      font-size: 14px;
    }

    .tab.active {
      background: #00d084;
      color: #000;
      font-weight: 600;
    }

    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 15px;
    }

    .dash-card {
      background: #111827;
      padding: 18px;
      border-radius: 10px;
      border: 1px solid #1f2933;
    }

    .dash-card h4 {
      margin-bottom: 8px;
      font-size: 15px;
    }

    .dash-card p {
      font-size: 13px;
      color: #9ca3af;
    }

    .dash-card span {
      display: inline-block;
      margin-top: 12px;
      color: #00d084;
      font-size: 13px;
    }

    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: #0b0f14;
      border-top: 1px solid #1f2933;
      display: flex;
      justify-content: space-around;
      padding: 10px 0;
      font-size: 12px;
    }
  </style>
</head>

<body>

  <!-- TOP BAR -->
  <nav class="navbar">
    <div class="logo">TARA ‚Ä¢ Dashboard</div>
    <div style="color:#9ca3af;font-size:13px;">Logged in</div>
  </nav>

  <!-- DASHBOARD -->
  <div class="dash-container">

    <div class="welcome">
      <h2>Good Evening, Trader üëã</h2>
      <p style="color:#9ca3af;font-size:14px;">
        Here‚Äôs your structured market view.
      </p>
    </div>

    <!-- TABS -->
    <div class="tabs">
      <div class="tab active">Daily</div>
	<div class="dash-card">

      <div class="tab">Weekly</div>
	<div class="dash-card weekly-card">

      <div class="tab">Monthly</div>
	<div class="dash-card monthly-card">

      <div class="tab">Tools</div>
    </div>
<div class="dash-card admin-card">
<div class="dash-card admin-card">
  <h4>üîê Admin Notes</h4>
  <p>Internal research & controls.</p>
  <span>Admin Only ‚Üí</span>
</div>

    <!-- CARDS -->
    <div class="cards">

      <div class="dash-card">
        <h4>üìä Today‚Äôs Market Bias</h4>
        <p>Bullish ‚Ä¢ Controlled risk environment.</p>
        <span>View Details ‚Üí</span>
      </div>

      <div class="dash-card">
        <h4>üéØ Key Levels</h4>
        <p>Important support & resistance zones.</p>
        <span>View Levels ‚Üí</span>
      </div>

      <div class="dash-card">
        <h4>üß† Weekly Context</h4>
        <p>Trend & swing structure overview.</p>
        <span>Members ‚Üí</span>
      </div>

      <div class="dash-card">
        <h4>üõ† Research Tools</h4>
        <p>OI Analyzer, scanners & dashboards.</p>
        <span>Open Tools ‚Üí</span>
      </div>

    </div>
  </div>

  <!-- MOBILE BOTTOM NAV -->
  <div class="bottom-nav">
    <div>Home</div>
    <div>Daily</div>
    <div>Tools</div>
    <div>Profile</div>
  </div>
<script>
  const role = localStorage.getItem("role");

  // Card references
  const weeklyCard = document.querySelector(".weekly-card");
  const monthlyCard = document.querySelector(".monthly-card");
  const adminCard = document.querySelector(".admin-card");

  // Default: hide all restricted cards
  if (weeklyCard) weeklyCard.style.display = "none";
  if (monthlyCard) monthlyCard.style.display = "none";
  if (adminCard) adminCard.style.display = "none";

  // Role logic
  if (role === "premium") {
    if (weeklyCard) weeklyCard.style.display = "block";
    if (monthlyCard) monthlyCard.style.display = "block";
  }

  if (role === "admin") {
    if (weeklyCard) weeklyCard.style.display = "block";
    if (monthlyCard) monthlyCard.style.display = "block";
    if (adminCard) adminCard.style.display = "block";
  }

  if (!role) {
    // Not logged in
    window.location.href = "login.html";
  }
</script>
<script>
  const wm = localStorage.getItem("watermark");
  if (wm) {
    const mark = document.createElement("div");
    mark.innerText = wm;
    mark.style.position = "fixed";
    mark.style.bottom = "10px";
    mark.style.right = "10px";
    mark.style.opacity = "0.2";
    mark.style.fontSize = "12px";
    document.body.appendChild(mark);
  }
</script>

</body>
</html>
